<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>搜索旋转数组</title>
</head>
<body>

</body>
<script>
    // nums为升序数组的旋转数组   最坏复杂度O(logn)
    var search1 = function(nums, target) {
        let start = 0
        let end = nums.length - 1
        let current
        while (start <= end) {
            current = start + end >> 1
            if (nums[current] === target) return current
            if (nums[current] >= nums[start]) {
                if (nums[start] <= target && target < nums[current]) {
                    end = current - 1
                } else {
                    start = current + 1
                }
            } else {
                if (nums[end] >= target && target > nums[current]) {
                    start = current + 1
                } else {
                    end = current - 1
                }
            }
        }
        return -1
    };
    console.log(search1(nums = [4,5,6,7,0,1,2], target = 0))

    // 非降序旋转数组   最坏复杂度O(n)
    var search2 = function(nums, target) {
        let start = 0
        let end = nums.length - 1
        let current
        while (start <= end) {
            current = start + end >> 1
            if (nums[current] === target) return true
            if (nums[current] ===  nums[start]) {
                start += 1
            } else if (nums[current] > nums[start]) {
                if (nums[start] <= target && target <= nums[current]) {
                    end = current - 1
                } else {
                    start = current + 1
                }
            } else {
                if (nums[current] <= target && target <= nums[end]) {
                    start = current + 1
                } else {
                    end = current - 1
                }
            }
        }
        return false
    };
    console.log(search2(nums = [2,2,2,2,0,1], target = 1))

</script>
</html>